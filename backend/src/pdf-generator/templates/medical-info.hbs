<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Patient Record Print</title>
  <style>
    body {
      font-family: "Arial", sans-serif;
      margin: 20px;
      color: #000;
      font-size: 11px; 
    }
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      text-align: center;
      font-size: 10px; 
      padding: 6px 0;
      color: #555;
      border-top: 1px solid #ccc;
      background: white;
    }
    .clinic-header {
      display: flex;
      align-items: center;
      border-bottom: 3px solid #007b9e;
      padding-bottom: 12px;
      margin-bottom: 25px;
    }

    .clinic-logo {
      max-width: 90px;
      max-height: 90px;
      margin-right: 20px;
    }

    .clinic-name {
      font-size: 24px;
      font-weight: bold;
      color: #003545;
      text-transform: uppercase;
      margin: 0;
      letter-spacing: 1px;
    }
    .section-title {
      background: #007b9e;
      color: white;
      padding: 4px 8px;
      font-weight: bold;
      margin: 12px 0 4px; 
      border-radius: 2px;
      font-size: 11px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 10px;
      border-radius: 4px;
      overflow: hidden;
    }

    td {
      padding: 4px 4px; 
      border: 1px solid #ccc;
      vertical-align: top;
      background: #fff;
      font-size: 10.5px;
    }

    td:nth-child(even) {
      background: #f9f9f9;
    }

    .label {
      font-weight: bold;
      color: #004a5a;
      display: inline-block;
      min-width: 120px;
    }

    textarea {
      width: 100%;
      min-height: 65px; 
      border: 1px solid #007b9e;
      padding: 6px;
      resize: none;
      background: #fcfcfc;
      border-radius: 3px;
      font-family: Arial, sans-serif;
      white-space: pre-wrap;
      font-size: 11px;
    }
    .badge {
      border: 1px solid black;
      padding: 4px 6px;
      border-radius: 4px;
      display: inline-block;
      margin-right: 5px;
      font-size: 11px;
      background: #f2f2f2;
    }
  </style>
</head>
<body>
  <div class="clinic-header">
    <img class="clinic-logo" src="data:image/png;base64,{{headerImg}}" />
    <div>
      <h1 class="clinic-name">PARAGON MULTISPECIALTY CLINIC</h1>
    </div>
  </div>

  <table>
    <tr>
      <td><span class="label">Patient Name:</span><br> {{ patientData.name }}</td>
      <td><span class="label">Birth Date:</span> <br>{{ formatDate patientData.b_date }}</td>
      <td><span class="label">Age:</span><br> {{ patientData.age }}</td>
      <td><span class="label">Contact No.:</span> <br>{{ patientData.contact_no }}</td>
    </tr>

    {{#ifCond patientData.pregnant '0'}}
    <tr>
      <td><span class="label">Civil Status:</span> <br>{{ patientData.civil_status }}</td>
      <td><span class="label">Occupation:</span> <br>{{ patientData.occupation }}</td>
      <td><span class="label">Attending Physician:</span> <br>{{ patientData.referred_by }}</td>
      <td><span class="label">Sex:</span> <br>{{ patientData.sex }}</td>
    </tr>
    {{/ifCond}}

    <tr>
      <td colspan="3"><span class="label">Address:</span> <br>{{ patientData.address }}</td>
      <td><span class="label">Date:</span><br> {{ formatDate patientData.date }}</td>
    </tr>

    {{#ifCond patientData.pregnant '1'}}
    <tr>
      <td><span class="label">Last Menstrual:</span><br> {{ formatDate patientData.menstrual }}</td>
      <td><span class="label">Expected Delivery:</span> <br>{{ formatDate patientData.deliveryDate }}</td>
      <td><span class="label">Previous Pregnancies:</span> <br>{{ patientData.prevPreg }}</td>
      <td><span class="label">Last Delivery:</span><br> {{ patientData.dateDelivered }}</td>
    </tr>

    <tr>
      <td><span class="label">Weight:</span> <br>{{ patientData.weight }}</td>
      <td><span class="label">Blood Pressure:</span> <br>{{ patientData.bp }}</td>
      <td><span class="label">Abdominal Measure:</span> <br>{{ patientData.am }}</td>
      <td><span class="label">Prev. Delivery Method:</span><br> {{ patientData.deliveryMethod }}</td>
    </tr>

    <tr>
      <td colspan="2"><span class="label">Referred By:</span><br> {{ patientData.doctor_name }}</td>
      <td colspan="2" align="center">
        <span class="badge"> {{patientData.Gnumber}}</span>
        <span class="badge"> {{patientData.Pnumber}}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <span class="badge">{{patientData.Tnumber}}</span>
        <span class="badge"> {{patientData.PAnumber}}</span>
        <span class="badge"> {{patientData.Anumber}}</span>
        <span class="badge">{{patientData.Lnumber}}</span>
      </td>
    </tr>
    {{/ifCond}}
  </table>

  {{#ifCond patientData.pregnant '1'}}
  <div class="section-title">Complaint</div>
  <textarea readonly>{{ stripTags patientData.complain }}</textarea>
  {{/ifCond}}

  <div class="section-title">Finding</div>
  <textarea readonly>{{ stripTags patientData.finding }}</textarea>

  <div class="section-title">Treatment</div>
  <textarea readonly>{{ stripTags patientData.treatment }}</textarea>

  {{#ifCond patientData.pregnant '1'}}
  <div class="section-title">Assessment</div>
  <textarea readonly>{{ stripTags patientData.remarks }}</textarea>
  {{/ifCond}}

  <div class="footer">
    {{formatted}} â€¢ This is a system-generated document. No signature is required.
  </div>
</body>
</html>
